<div class="container">
  <div class="movie-picker">
    <div class="movie-selector">
      <label>PICK A MOVIE</label> &nbsp;
      <select (change)="selectedMovie($event)" [disabled]="isHallSelected">
        <option value="none">--None--</option>
        <option *ngFor="let movielist of movies" [value]="movielist.movie_id">
          {{ movielist.name | uppercase }}<br />
          {{ movielist.ticket_price | currency: "INR" }}
        </option>
      </select>
    </div>
  </div>

  <ng-container>
    <div class="shows" *ngIf="selectedShow.length > 0; else allShows">
      <div class="showtime">
        <div class="all-shows" *ngIf="selectedShow.length > 0; else allShows">
          <div class="selected-show" *ngFor = "let showSelected of selectedShow">
            <label style="color: blanchedalmond;">{{showSelected.name | uppercase }}</label><br>
            <button class="btn btn-primary" style="background-color: rosybrown;">{{showSelected.show_time}}</button>
          </div>
        </div>
      </div>
    </div>
    <ng-template #allShows>
        <div class="shows">
          <div class="showtime" *ngFor="let showDetails of shows;index as ind">
              <label style="color: blanchedalmond;">{{showDetails.name | uppercase }}</label><br>
              <button class="btn btn-primary" (click)="bookSeats(showDetails.show_id,ind)" [disabled]="showSeats">
               {{ showDetails.show_time}}
              </button>
          </div>
        </div>
    </ng-template>
  </ng-container>

  <ng-container *ngIf="isHallSelected">
    <div class="screen-location" *ngIf="showSeats">
      <div class="screen">
        <p>SCREEN</p>
      </div>
    </div>

    <div class="total-seats" *ngIf="showSeats">
      <div class="hor" *ngFor="let rowSeat of rows; index as i">
        <div *ngFor="let columnSeat of columns; index as j">
          <button  [value]="(i * columns.length) + (j + 1)" (click)="seatSelected(i, j)"
         [disabled]="isSeatAvailable(i, j)" 
         [ngClass]="markedSeats.includes((i * columns.length) + (j + 1)) ? 'seat selectedSeat' : 'seat'">
         <!-- [ngClass]="{'selectedSeat' : markedSeats.includes((i * columns.length) + (j + 1)) , 'seat' : true}" -->
         <!-- [ngStyle]="{'background-color': markedSeats.includes((i * columns.length) + (j + 1)) ? 'green' : 'white'}"> -->
          </button>
        </div>
      </div>
      <br /><br />
      <div class="submit" *ngIf="isHallSelected">
        <div class="submit-button">
          <button class="btn btn-danger" value="Cancel" (click)="cancel()">CANCEL</button> &nbsp;
          <button class="btn btn-success" value="Book Seats" (click)="submit()">BOOK SEATS</button>

        </div>
      </div>
    </div>
  </ng-container>
</div>

<!-- Seat: {{ i * columns.length + (j + 1) }} -->